<!--
Filename Suggestion: color-converter.html
Description: A responsive, client-side color code converter tool for HEX, RGB, and HSL formats, now including a Color Picker for users who don't know the codes. Uses pure JavaScript for error-free, local operation.
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>रंग कोड कनवर्टर और पिकर</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="एक सरल और स्थानीय टूल जो HEX, RGB, और HSL रंग कोड को लाइव पूर्वावलोकन के साथ कनवर्ट करता है और रंग पिकर की सुविधा देता है।">
    <meta name="keywords" content="color converter, HEX to RGB, RGB to HSL, color picker, रंग कोड, local tool">
    
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .color-preview {
            /* Increased height for visual appeal */
            height: 180px; 
            background-color: #3498DB; 
            transition: all 0.5s ease;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); /* Default shadow */
        }
        .input-group {
            display: flex;
            align-items: center;
        }
        .input-group span {
            width: 70px; /* Fixed width for labels */
        }
        /* Custom style for the native color picker input */
        #colorPicker {
            width: 50px; /* Slightly bigger */
            height: 50px; 
            border: none;
            padding: 0;
            cursor: pointer;
            background: none;
        }
        #colorPicker::-webkit-color-swatch-wrapper {
            padding: 0;
        }
        #colorPicker::-webkit-color-swatch {
            border: 4px solid #fff; /* White border for contrast */
            border-radius: 9999px; 
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center pt-12 pb-12">

    <div class="w-full max-w-2xl mx-4">
        <header class="text-center mb-10">
            <h1 class="text-3xl font-extrabold text-gray-800 mb-2">रंग कोड कनवर्टर और पिकर</h1>
            <p class="text-gray-600">सुंदर रंग चुनें और उनके सभी कोड्स तुरंत प्राप्त करें।</p>
        </header>

        <!-- Main Card -->
        <div class="bg-white rounded-xl shadow-2xl p-6 border border-indigo-200 mb-8">
            
            <!-- Color Selection Area -->
            <div class="flex items-center justify-between mb-6 p-4 bg-indigo-50 rounded-lg border border-indigo-200">
                <h2 class="text-xl font-bold text-indigo-700">रंग चुनें या कोड दर्ज करें</h2>
                <!-- Color Picker Input -->
                <input type="color" id="colorPicker" value="#3498DB" title="रंग चुनें">
            </div>

            <!-- Color Preview Area (More prominent) -->
            <div id="colorPreview" class="color-preview rounded-xl shadow-inner mb-8 border border-gray-300"></div>

            <div id="messageBox" class="hidden p-3 mb-4 rounded-lg font-medium text-sm transition-opacity duration-300 bg-red-100 text-red-800"></div>

            
            <!-- Input Fields -->
            <div class="space-y-4">
                
                <!-- HEX Input -->
                <div class="input-group">
                    <span class="text-gray-700 font-medium">HEX</span>
                    <input 
                        type="text" 
                        id="hexInput" 
                        placeholder="#3498DB"
                        value="#3498DB"
                        class="flex-1 ml-2 p-3 border border-gray-300 rounded-lg font-mono focus:ring-indigo-500 focus:border-indigo-500 uppercase transition-shadow"
                        maxlength="7"
                    >
                </div>

                <!-- RGB Input -->
                <div class="input-group">
                    <span class="text-gray-700 font-medium">RGB</span>
                    <input 
                        type="text" 
                        id="rgbInput" 
                        placeholder="rgb(52, 152, 219)"
                        class="flex-1 ml-2 p-3 border border-gray-300 rounded-lg font-mono focus:ring-indigo-500 focus:border-indigo-500 transition-shadow"
                    >
                </div>

                <!-- HSL Input -->
                <div class="input-group">
                    <span class="text-gray-700 font-medium">HSL</span>
                    <input 
                        type="text" 
                        id="hslInput" 
                        placeholder="hsl(204, 70%, 53%)"
                        class="flex-1 ml-2 p-3 border border-gray-300 rounded-lg font-mono focus:ring-indigo-500 focus:border-indigo-500 transition-shadow"
                    >
                </div>
            </div>

            <p class="text-sm text-gray-500 mt-6">टिप्पणी: आप सीधे रंग पिकर का उपयोग कर सकते हैं, या किसी भी फ़ील्ड में कोड दर्ज कर सकते हैं।</p>
        </div>

        <!-- Documentation Section -->
        <div class="mt-8 p-6 bg-white rounded-xl shadow-lg border border-gray-200">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">यह कनवर्टर कैसे काम करता है?</h2>
            <p class="text-gray-600 mb-4">यह टूल पूरी तरह से क्लाइंट-साइड **JavaScript** का उपयोग करता है। सभी गणनाएँ आपके ब्राउज़र में की जाती हैं, जिससे यह तेज़, सुरक्षित और **100% एरर-फ्री** होता है।</p>
        </div>
        
        <!-- Footer -->
        <footer class="mt-8 text-center text-gray-500 text-sm">
            <p>साइट का नाम: StoreDropship.in | संपर्क: +91 9258036351, contact@storedropship.in</p>
        </footer>
    </div>

    <script>
        // --- Utility Functions for Conversions (Standard Algorithms) ---

        // Helper function to show errors
        const showMessage = (text, duration = 3000) => {
            messageBox.textContent = text;
            messageBox.classList.remove('hidden');
            setTimeout(() => {
                messageBox.classList.add('hidden');
            }, duration);
        };

        // --- 1. HEX to RGB ---
        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        // --- 2. RGB to HSL ---
        function rgbToHsl(r, g, b) {
            r /= 255;
            g /= 255;
            b /= 255;

            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0; // achromatic
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }

            return {
                h: Math.round(h * 360),
                s: Math.round(s * 100),
                l: Math.round(l * 100)
            };
        }
        
        // --- 3. HSL to RGB ---
        function hslToRgb(h, s, l) {
            h /= 360;
            s /= 100;
            l /= 100;
            let r, g, b;

            if (s === 0) {
                r = g = b = l; // achromatic
            } else {
                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1 / 6) return p + (q - p) * 6 * t;
                    if (t < 1 / 2) return q;
                    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                    return p;
                };
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1 / 3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1 / 3);
            }

            return {
                r: Math.round(r * 255),
                g: Math.round(g * 255),
                b: Math.round(b * 255)
            };
        }

        // --- 4. RGB to HEX ---
        function rgbToHex(r, g, b) {
            const toHex = (c) => {
                const hex = Math.max(0, Math.min(255, c)).toString(16); // Clamp and convert
                return hex.length === 1 ? '0' + hex : hex;
            };
            return '#' + toHex(r) + toHex(g) + toHex(b);
        }

        // --- DOM Elements ---
        const colorPicker = document.getElementById('colorPicker');
        const hexInput = document.getElementById('hexInput');
        const rgbInput = document.getElementById('rgbInput');
        const hslInput = document.getElementById('hslInput');
        const colorPreview = document.getElementById('colorPreview');
        const messageBox = document.getElementById('messageBox');

        // --- Core Update Function ---

        function updateAll(triggerId, colorValue = null) {
            let r, g, b, h, s, l;
            let hexValue, rgbValue, hslValue;

            try {
                // 1. Determine RGB based on the input that changed or colorPicker value
                if (triggerId === 'colorPicker' && colorValue) {
                    hexValue = colorValue.toUpperCase();
                    const rgb = hexToRgb(hexValue);
                    r = rgb.r; g = rgb.g; b = rgb.b;

                } else if (triggerId === 'hexInput') {
                    hexValue = hexInput.value.trim().toUpperCase();
                    if (!/^#?[0-9A-F]{6}$/i.test(hexValue)) throw new Error("अमान्य HEX फ़ॉर्मेट।");
                    
                    const rgb = hexToRgb(hexValue);
                    r = rgb.r; g = rgb.g; b = rgb.b;

                } else if (triggerId === 'rgbInput') {
                    rgbValue = rgbInput.value.trim().toLowerCase();
                    const match = rgbValue.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/i);
                    if (!match) throw new Error("अमान्य RGB फ़ॉर्मेट। उदाहरण: rgb(255, 0, 0)");

                    r = parseInt(match[1]);
                    g = parseInt(match[2]);
                    b = parseInt(match[3]);
                    
                    if (r > 255 || g > 255 || b > 255 || r < 0 || g < 0 || b < 0) throw new Error("RGB मान 0-255 के बीच होना चाहिए।");

                } else if (triggerId === 'hslInput') {
                    hslValue = hslInput.value.trim().toLowerCase();
                    const match = hslValue.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/i);
                    if (!match) throw new Error("अमान्य HSL फ़ॉर्मेट। उदाहरण: hsl(0, 100%, 50%)");

                    h = parseInt(match[1]);
                    s = parseInt(match[2]);
                    l = parseInt(match[3]);
                    
                    if (h > 360 || s > 100 || l > 100 || h < 0 || s < 0 || l < 0) throw new Error("HSL मान सीमा के बाहर हैं।");

                    const rgb = hslToRgb(h, s, l);
                    r = rgb.r; g = rgb.g; b = rgb.b;
                }

                // If RGB is determined, calculate the rest
                if (r !== undefined) {
                    // 2. Calculate missing formats
                    if (triggerId !== 'hexInput' && triggerId !== 'colorPicker') {
                        hexValue = rgbToHex(r, g, b);
                    }
                    if (triggerId !== 'rgbInput') {
                        rgbValue = `rgb(${r}, ${g}, ${b})`;
                    }
                    if (triggerId !== 'hslInput') {
                        const hsl = rgbToHsl(r, g, b);
                        h = hsl.h; s = hsl.s; l = hsl.l;
                        hslValue = `hsl(${h}, ${s}%, ${l}%)`;
                    }
                    
                    // 3. Update DOM 
                    if (triggerId !== 'hexInput') hexInput.value = hexValue;
                    if (triggerId !== 'rgbInput') rgbInput.value = rgbValue;
                    if (triggerId !== 'hslInput') hslInput.value = hslValue;
                    
                    // 4. Update Preview and Picker
                    colorPreview.style.backgroundColor = hexValue;
                    colorPicker.value = hexValue; // Sync the color picker
                    
                    // Dynamic shadow effect (uses HEX color)
                    const shadowColor = hexValue || '#3498DB';
                    colorPreview.style.boxShadow = `0 10px 30px rgba(${r}, ${g}, ${b}, 0.5)`;

                    messageBox.classList.add('hidden'); // Clear error message

                } else {
                    // Clear output fields on partial error
                    if (triggerId !== 'hexInput') hexInput.value = '';
                    if (triggerId !== 'rgbInput') rgbInput.value = '';
                    if (triggerId !== 'hslInput') hslInput.value = '';
                }

            } catch (error) {
                // Handle validation errors gracefully
                showMessage(`त्रुटि: ${error.message}`);
                // Clear output fields on error
                if (triggerId !== 'hexInput') hexInput.value = '';
                if (triggerId !== 'rgbInput') rgbInput.value = '';
                if (triggerId !== 'hslInput') hslInput.value = '';
                // Set preview to a neutral error color and reset shadow
                colorPreview.style.backgroundColor = '#ccc';
                colorPreview.style.boxShadow = '0 10px 20px rgba(0, 0, 0, 0.1)';
            }
        }

        // --- Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            // Initial call with a default value
            updateAll('hexInput'); 
            
            // Debounced input handling for smooth performance
            let timeout;
            const handleInput = (event) => {
                clearTimeout(timeout);
                const triggerId = event.target.id;
                timeout = setTimeout(() => {
                    updateAll(triggerId);
                }, 100); // 100ms debounce
            };

            // Listener for the Color Picker
            colorPicker.addEventListener('input', (event) => {
                updateAll('colorPicker', event.target.value);
            });


            hexInput.addEventListener('input', handleInput);
            rgbInput.addEventListener('input', handleInput);
            hslInput.addEventListener('input', handleInput);
        });

    </script>
</body>
</html>